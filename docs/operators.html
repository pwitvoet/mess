<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>7.3. Operators - MESS 1.2.3 documentation</title>

    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="images/mess_icon.png"/>
  </head>

  <body>
    <div class="root-container">
      <nav>
        <h1><a class="home-link" href="index.html">MESS 1.2.3</a></h1>
        <ul>
          <li>
<a href="index.html">1. Getting started</a>
<ul class="toc">
<li><a href="jack-&-hammer-setup.html">1.1. JACK & Hammer setup</a></li>
<li><a href="trenchbroom-setup.html">1.2. TrenchBroom setup</a></li>
</ul>
</li>
<li>
<a href="tutorials.html">2. Tutorials</a>
<ul class="toc">
<li><a href="covering-terrain-with-props.html">Covering terrain with props</a></li>
<li><a href="covering-terrain-advanced-template-selection.html">Covering terrain&colon; advanced template selection</a></li>
<li><a href="covering-terrain-optimization.html">Covering terrain&colon; optimization</a></li>
<li><a href="making-a-kill-counter-with-mtl_trigger_counter.html">Making a kill counter with mtl_trigger_counter</a></li>
<li><a href="counter-strike-playing-a-different-song-each-round.html">Counter-Strike&colon; Playing a different song each round</a></li>
<li><a href="creating-interactive-linked-groups-in-trenchbroom.html">Creating interactive linked groups in TrenchBroom</a></li>
</ul>
</li>
<li>
<a href="configuration.html">3. Configuration</a>
<ul class="toc">
<li><a href="configuration-files.html">3.1. Configuration files</a></li>
<li><a href="command-line-options.html">3.2. Command-line options</a></li>
</ul>
</li>
<li>
<a href="template-entities.html">4. Template entities</a>
<ul class="toc">
<li><a href="mtl_env_model.html">mtl_env_model</a></li>
<li><a href="mtl_trigger_area.html">mtl_trigger_area</a></li>
<li><a href="mtl_trigger_counter.html">mtl_trigger_counter</a></li>
<li><a href="mtl_trigger_periodic.html">mtl_trigger_periodic</a></li>
<li><a href="mtl_trigger_random.html">mtl_trigger_random</a></li>
<li><a href="mtl_trigger_sequence.html">mtl_trigger_sequence</a></li>
<li><a href="mtl_trigger_switch.html">mtl_trigger_switch</a></li>
<li><a href="cs_trigger_roundstart.html">cs_trigger_roundstart</a></li>
<li><a href="q1_brush_text.html">q1_brush_text</a></li>
</ul>
</li>
<li>
<a href="template-behaviors.html">5. Template behaviors</a>
<ul class="toc">
<li><a href="target-patterns.html">5.1. Target patterns</a></li>
<li><a href="multi_manager-expansion.html">5.2. multi_manager expansion</a></li>
<li><a href="env_sprite-angles-fix.html">5.3. env_sprite angles fix</a></li>
<li><a href="linked-group-ids.html">5.4. Linked group IDs</a></li>
<li><a href="scrolling-texture-speed.html">5.5. Scrolling texture speed</a></li>
</ul>
</li>
<li>
<a href="macro-entities.html">6. Macro entities</a>
<ul class="toc">
<li><a href="macro_insert.html">6.1. macro_insert</a></li>
<li><a href="macro_cover.html">6.2. macro_cover</a></li>
<li><a href="macro_fill.html">6.3. macro_fill</a></li>
<li><a href="macro_brush.html">6.4. macro_brush</a></li>
<li><a href="macro_template.html">6.5. macro_template</a></li>
<li><a href="macro_remove_if.html">6.6. macro_remove_if</a></li>
</ul>
</li>
<li class="current-page">
<a class="current-page" href="scripting.html">7. Scripting</a>
<ul class="toc">
<li><a href="entity-properties.html">7.1. Entity properties</a></li>
<li><a href="data-types.html">7.2. Data types</a></li>
<li class="current-page"><a class="current-page" href="operators.html">7.3. Operators</a></li>
<li><a href="standard-functions.html">7.4. Standard functions</a></li>
<li><a href="template-functions.html">7.5. Template functions</a></li>
<li><a href="rewrite-rules.html">7.6. Rewrite rules</a></li>
</ul>
</li>
<li>
<a href="file-conversion.html">8. File conversion</a>
<ul class="toc">
<li><a href="convert-options.html">8.1. Convert options</a></li>
</ul>
</li>

        </ul>
      </nav>

      <div class="main-container">
        <main>
          <article>
            <h1 id="operators">7.3. Operators</h1>
<p>
MScript, like most languages, provides several operators for working with numbers and for comparing values, among other things:</p>
<ul>
<li>
<a href="#arithmetic">7.3.1. Arithmetic</a></li>
<li>
<a href="#equality">7.3.2. Equality</a></li>
<li>
<a href="#comparisons">7.3.3. Comparisons</a></li>
<li>
<a href="#logical">7.3.4. Logical</a></li>
<li>
<a href="#binary">7.3.5. Binary</a></li>
<li>
<a href="#unary-operators">7.3.6. Unary operators</a></li>
<li>
<a href="#conditional-operators">7.3.7. Conditional operators</a></li>
</ul>
<h2 id="arithmetic">7.3.1. Arithmetic</h2>
<p>
The arithmetic operators are used for standard numerical operations like addition, subtraction, multiplication and division. If one of the operands is <code><span class="keyword">none</span></code>, then it will be treated as a <code>0</code>. For example, <code>5 + <span class="keyword">none</span></code> returns <code>5</code>, and <code>5 * <span class="keyword">none</span></code> returns <code>0</code>.</p>
<p>
These operators can also be used with arrays: the operators are simply applied to items from both arrays. If one array is shorter than the other, then the final operations will use <code><span class="keyword">none</span></code> as a fallback value. For example, <code>[1, 2, 3] - [5, 4]</code> returns <code>[-4, -2, 3]</code>.</p>
<p>
Numbers and array can also be combined: in that case, the number is 'reused' while the operation is applied to all items in the array. For example, <code>4 * [1, 2, 3]</code> returns <code>[4, 8, 12]</code>.</p>
<hr>
<p>
<strong><code>a + b</code></strong></p>
<p>
The <code>+</code> operator adds up two numbers. However, if one of the operands is a string then it will perform string concatenation instead.</p>
<p>
For example, <code>4 + 5</code> returns <code>9</code>, but <code>4 + '5'</code> returns <code>'45'</code>.</p>
<hr>
<p>
<strong><code>a - b</code></strong></p>
<p>
The <code>-</code> operator subtracts one number from another number.</p>
<p>
For example: <code>4 - 5</code> returns <code>-1</code>, and <code>[4, 5] - 1</code> returns <code>[3, 4]</code>.</p>
<hr>
<p>
<strong><code>a * b</code></strong></p>
<p>
The <code>*</code> operator multiplies two numbers.</p>
<p>
For example, <code>4 * 5</code> returns <code>20</code>, and <code>4 * [1, 2, 3]</code> returns <code>[4, 8, 12]</code>.</p>
<hr>
<p>
<strong><code>a / b</code></strong></p>
<p>
The <code>/</code> operator divides a number by another number.</p>
<p>
For example, <code>4 / 5</code> returns <code>0.8</code>, and <code>[2, 5, 10] / 2</code> returns <code>[1, 2.5, 5]</code>.</p>
<hr>
<p>
<strong><code>a % b</code></strong></p>
<p>
The <code>%</code> operator takes the remainder of a division.</p>
<p>
For example, <code>11 % 4</code> returns <code>3</code>, and <code>[4, 5, 6, 7] % 3</code> returns <code>[1, 2, 0, 1]</code>.</p>
<hr>
<h2 id="equality">7.3.2. Equality</h2>
<p>
The equality operators can be used with values of any type. They check whether two values are of the same type and whether they represent the same value. Values of different types are never equal.</p>
<hr>
<p>
<strong><code>a == b</code></strong></p>
<p>
The <code>==</code> operator checks if two values are equal.</p>
<p>
For example, <code>'5' == 5</code> returns <code><span class="keyword">none</span></code> (false), but <code>[3, 4] == [3, 4]</code> returns <code>1</code> (true).</p>
<hr>
<p>
<strong><code>a != b</code></strong></p>
<p>
The <code>!=</code> operator checks whether two values are not equal.</p>
<p>
For example, <code>'5' != 5</code> returns <code>1</code> (true), but <code>[3, 4] != [3, 4]</code> returns <code><span class="keyword">none</span></code> (false).</p>
<hr>
<h2 id="comparisons">7.3.3. Comparisons</h2>
<p>
The comparison operators determine whether one number is greater than, equal to or less than another number. As with the arithmetic operators, <code><span class="keyword">none</span></code> is treated as <code>0</code>. However, unlike the arithmetic operators, the comparison operators cannot be used with arrays.</p>
<hr>
<p>
<strong><code>a > b</code></strong></p>
<p>
The <code>></code> operator checks if a number is greater than another number.</p>
<p>
For example, <code>5 > 4</code> returns <code>1</code> (true).</p>
<hr>
<p>
<strong><code>a >= b</code></strong></p>
<p>
The <code>>=</code> operator checks if a number is greater than or equal to another number.</p>
<p>
For example, <code>5 >= 5</code> returns <code>1</code> (true).</p>
<hr>
<p>
<strong><code>a < b</code></strong></p>
<p>
The <code><</code> operator checks if a number is less than another number.</p>
<p>
For example, <code>4 < 5</code> returns <code>1</code> (true).</p>
<hr>
<p>
<strong><code>a <= b</code></strong></p>
<p>
The <code><=</code> operator checks if a number is less than or equal to another number.</p>
<p>
For example, <code>4 <= 4</code> returns <code>1</code> (true).</p>
<hr>
<h2 id="logical">7.3.4. Logical</h2>
<p>
The logical operators compare two boolean (true/false) expressions. These operators have 'short-circuiting' behavior: they will only evaluate the right-hand expression if necessary. This can sometimes be useful for controlling side-effects, such as with a <code>setglobal</code> or a <code>trace</code> function call.</p>
<hr>
<p>
<strong><code>a && b</code></strong> (or <strong><code>a and b</code></strong>)</p>
<p>
The <code>&&</code> operator (which can also be written as <code>and</code>) returns the second expression if both expressions are true, or <code><span class="keyword">none</span></code> otherwise. It short-circuits: if the first expression is not true, then the second expression will not be evaluated because the result cannot be true anyway.</p>
<p>
For example, <code>'name'.contains('a') && 4</code> returns <code>4</code>.</p>
<hr>
<p>
<strong><code>a || b</code></strong> (or <strong><code>a or b</code></strong>)</p>
<p>
The <code>||</code> operator (which can also be written as <code>or</code>) returns the first expression if it is true, or otherwise the second expression if that is true, or otherwise <code><span class="keyword">none</span></code>. It short-circuits: if the first expression is true, then the second expression will not be evaluated because the result is already true anyway.</p>
<p>
For example, <code>'name'.contains('a') || 4</code> returns <code>1</code> (the result of the <code>'name.contains('a')</code> expression).</p>
<hr>
<h2 id="binary">7.3.5. Binary</h2>
<p>
Binary operators convert their operands to 32-bit numbers and operate on their bits. Binary operators can only be used with numbers, or with <code><span class="keyword">none</span></code>, which is treated as <code>0</code>.</p>
<hr>
<p>
<strong><code>a << b</code></strong></p>
<p>
The <code><<</code> operator converts the first operand to a 32-bit number, shifts its bits to the left and returns the resulting number. The second operand determines how many bits the first number will be shifted. The right side will be filled with <code>0</code>-bits. The left-most bits of the original number are lost.</p>
<p>
For example, <code>3 << 2</code> returns <code>12</code> (bitwise view: shifting <code>0011</code> two to the left becomes <code>1100</code>).</p>
<hr>
<p>
<strong><code>a >> b</code></strong></p>
<p>
The <code>>></code> operator converts the first operand to a 32-bit number, shifts its bits to the right and returns the resulting number. The second operand determines how many bits the first number will be shifted. If the first number is negative, the left side will be filled with <code>1</code>-bits, else it will be filled with <code>0</code>-bits. The right-most bits of the original number are lost.</p>
<p>
For example, <code>13 >> 2</code> returns <code>3</code> (bitwise view: shifting <code>1101</code> two to the right becomes <code>0011</code>).</p>
<hr>
<p>
<strong><code>a & b</code></strong></p>
<p>
The <code>&</code> operator converts both operands to 32-bit numbers, performs a bitwise 'and' operation and returns the resulting number. A resulting bit will only be <code>1</code> if the input bits are both <code>1</code>.</p>
<p>
This is often used for bitmasks, to check whether specific bit(s) are set.</p>
<p>
For example, <code>10 & 3</code> returns <code>2</code> (bitwise view: <code>1010 & 0011</code> is <code>0010</code>).</p>
<hr>
<p>
<strong><code>a ^ b</code></strong></p>
<p>
The <code>^</code> operator converts both operands to 32-bit numbers, performs a bitwise 'exclusive or' operation and returns the resulting number. A resulting bit will only be <code>1</code> if exactly one of the input bits is <code>1</code>.</p>
<p>
This can be used for bitmasks to invert specific bits.</p>
<p>
For example, <code>7 ^ 12</code> returns <code>11</code> (bitwise view: <code>0111 ^ 1100</code> is <code>1011</code>).</p>
<hr>
<p>
<strong><code>a | b</code></strong></p>
<p>
The <code>|</code> operator converts both operands to 32-bit numbers, performs a bitwise 'or' operation and returns the resulting number. A resulting bit will be one if one or both of the input bits are <code>1</code>.</p>
<p>
This is often used to combine bitmasks.</p>
<p>
For example, <code>12 | 7</code> returns <code>15</code> (bitwise view: <code>1100 | 0111</code> is <code>1111</code>).</p>
<hr>
<p>
<strong><code>~a</code></strong></p>
<p>
The <code>~</code> operator converts its operand to a 32-bit number, inverts all of its bits and returns the resulting number.</p>
<p>
For example, <code>~15</code> returns <code>-16</code> (bitwise view: <code>~00000000000000000000000000001111</code> is <code>11111111111111111111111111110000</code>).</p>
<hr>
<h2 id="unary-operators">7.3.6. Unary operators</h2>
<p>
There are also a few 'unary' operators, which take only a single operand. These are used to negate a numeric value or a boolean expression.</p>
<hr>
<p>
<strong><code>-a</code></strong></p>
<p>
The <code>-</code> operator negates a number. It also works with arrays that contain numbers: it will return an array with all numbers negated.</p>
<p>
For example, <code>-max(4, 5)</code> returns <code>-5</code>, and <code>-[4, 5]</code> returns <code>[-4, -5]</code>.</p>
<hr>
<p>
<strong><code>!a</code></strong> (or <strong><code>not a</code></strong>)</p>
<p>
The <code>!</code> operator (which can also be written as <code>not</code>) returns <code>1</code> (true) if the expression is false, or <code><span class="keyword">none</span></code> (false) otherwise.</p>
<p>
For example, <code>!'name'.contains('a')</code> returns <code><span class="keyword">none</span></code>.</p>
<hr>
<h2 id="conditional-operators">7.3.7. Conditional operators</h2>
<p>
The conditional operators are ternary operators, which take 3 operands: a condition, a true and a false expression. They are used to choose between two expressions.</p>
<hr>
<p>
<strong><code>c ? t : f</code></strong> ( or  <strong><code>t if c else f</code></strong>)</p>
<p>
The <code>?:</code> operator (and the <code>if-else</code> variant) first evaluates the condition expression (<code>c</code>). If that is true, it then evaluates the true-expression (<code>t</code>) and returns that as its result. Else, it will evaluate the false-expression (<code>f</code>) and return that result.</p>
<p>
For example, <code>4 == 4 ? 'good' : 'bad'</code> returns <code>'good'</code>. This can also be written as <code>'good' if 4 == 4 else 'bad'</code>.</p>

          </article>
        </main>

        <footer>
          © copyright 2024, Pieter Witvoet
        </footer>
      </div>
    </div>
  </body>
</html>