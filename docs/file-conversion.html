<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>8. File conversion - MESS 1.2.3 documentation</title>

    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="images/mess_icon.png"/>
  </head>

  <body>
    <div class="root-container">
      <nav>
        <h1><a class="home-link" href="index.html">MESS 1.2.3</a></h1>
        <div class="sub-header">Macro Entity Scripting System</div>
        <ul>
          <li>
<a href="index.html">1. Getting started</a>
<ul class="toc">
<li><a href="jack-&-hammer-setup.html">1.1. JACK & Hammer setup</a></li>
<li><a href="trenchbroom-setup.html">1.2. TrenchBroom setup</a></li>
</ul>
</li>
<li>
<a href="tutorials.html">2. Tutorials</a>
<ul class="toc">
<li><a href="covering-terrain-with-props.html">Covering terrain with props</a></li>
<li><a href="covering-terrain-advanced-template-selection.html">Covering terrain&colon; advanced template selection</a></li>
<li><a href="covering-terrain-optimization.html">Covering terrain&colon; optimization</a></li>
<li><a href="making-a-kill-counter-with-mtl_trigger_counter.html">Making a kill counter with mtl_trigger_counter</a></li>
<li><a href="counter-strike-playing-a-different-song-each-round.html">Counter-Strike&colon; Playing a different song each round</a></li>
<li><a href="creating-interactive-linked-groups-in-trenchbroom.html">Creating interactive linked groups in TrenchBroom</a></li>
</ul>
</li>
<li>
<a href="configuration.html">3. Configuration</a>
<ul class="toc">
<li><a href="configuration-files.html">3.1. Configuration files</a></li>
<li><a href="command-line-options.html">3.2. Command-line options</a></li>
</ul>
</li>
<li>
<a href="template-entities.html">4. Template entities</a>
<ul class="toc">
<li><a href="mtl_env_model.html">mtl_env_model</a></li>
<li><a href="mtl_trigger_area.html">mtl_trigger_area</a></li>
<li><a href="mtl_trigger_counter.html">mtl_trigger_counter</a></li>
<li><a href="mtl_trigger_periodic.html">mtl_trigger_periodic</a></li>
<li><a href="mtl_trigger_random.html">mtl_trigger_random</a></li>
<li><a href="mtl_trigger_sequence.html">mtl_trigger_sequence</a></li>
<li><a href="mtl_trigger_switch.html">mtl_trigger_switch</a></li>
<li><a href="cs_trigger_roundstart.html">cs_trigger_roundstart</a></li>
<li><a href="q1_brush_text.html">q1_brush_text</a></li>
</ul>
</li>
<li>
<a href="template-behaviors.html">5. Template behaviors</a>
<ul class="toc">
<li><a href="target-patterns.html">5.1. Target patterns</a></li>
<li><a href="multi_manager-expansion.html">5.2. multi_manager expansion</a></li>
<li><a href="env_sprite-angles-fix.html">5.3. env_sprite angles fix</a></li>
<li><a href="linked-group-ids.html">5.4. Linked group IDs</a></li>
<li><a href="scrolling-texture-speed.html">5.5. Scrolling texture speed</a></li>
</ul>
</li>
<li>
<a href="macro-entities.html">6. Macro entities</a>
<ul class="toc">
<li><a href="macro_insert.html">6.1. macro_insert</a></li>
<li><a href="macro_cover.html">6.2. macro_cover</a></li>
<li><a href="macro_fill.html">6.3. macro_fill</a></li>
<li><a href="macro_brush.html">6.4. macro_brush</a></li>
<li><a href="macro_template.html">6.5. macro_template</a></li>
<li><a href="macro_remove_if.html">6.6. macro_remove_if</a></li>
</ul>
</li>
<li>
<a href="scripting.html">7. Scripting</a>
<ul class="toc">
<li><a href="entity-properties.html">7.1. Entity properties</a></li>
<li><a href="data-types.html">7.2. Data types</a></li>
<li><a href="operators.html">7.3. Operators</a></li>
<li><a href="standard-functions.html">7.4. Standard functions</a></li>
<li><a href="template-functions.html">7.5. Template functions</a></li>
<li><a href="rewrite-rules.html">7.6. Rewrite rules</a></li>
</ul>
</li>
<li class="current-page">
<a class="current-page" href="file-conversion.html">8. File conversion</a>
<ul class="toc">
<li><a href="convert-options.html">8.1. Convert options</a></li>
</ul>
</li>

        </ul>
      </nav>

      <div class="main-container">
        <main>
          <article>
            <h1 id="file-conversion">8. File conversion</h1>
<p>
Besides being a map processing tool, MESS also supports conversion between different map file formats. This can be useful when migrating to a different editor, or for automating <code>.map</code> exports. It's also possible to exclude specific VIS groups or layers, and to exclude anything outside a specific area (cordoning).</p>
<p>
See below for some common use-cases:</p>
<ul>
<li>
<a href="#converting-a-map-file-to-rmf-or-jmf">Converting a map file to rmf or jmf</a></li>
<li>
<a href="#converting-a-rmf-or-jmf-to-a-trenchbroom-map-file">Converting a rmf or jmf to a TrenchBroom map file</a></li>
<li>
<a href="#exporting-and-cleaning-a-trenchbroom-map-file">Exporting and cleaning a TrenchBroom map file</a></li>
</ul>
<p>
For all available options, see <a href="convert-options.html">Convert options</a>.</p>
<hr>
<h3 id="converting-a-map-file-to-rmf-or-jmf">Converting a map file to rmf or jmf</h3>
<p>
To convert a <code>.map</code> file to <code>.rmf</code> or <code>.jmf</code>, open a command-line window (or create a batch file) and call MESS as following:</p>
<p>
<code>MESS.exe -convert input_file.map output_file.jmf</code></p>
<p>
If the input is a TrenchBroom <code>.map</code> file, any groups and layers will automatically be converted to Hammer or J.A.C.K. groups and VIS groups.</p>
<h3 id="converting-a-rmf-or-jmf-to-a-trenchbroom-map-file">Converting a rmf or jmf to a TrenchBroom map file</h3>
<p>
To convert a <code>.jmf</code> file to a TrenchBroom <code>.map</code> file, call MESS as following:</p>
<p>
<code>MESS.exe -convert -mapformat trenchbroomvalve220 -tbgame "Half-Life" -wad "halflife.wad;liquids.wad" input_file.jmf output_file.map</code></p>
<p>
The <code>-mapformat trenchbroomvalve220</code> option tells MESS that it should convert groups and VIS groups to TrenchBroom-specific <code>func_group</code> entities, instead of discarding any group and VIS group information. The <code>-tbgame</code> option sets the TrenchBroom game name, and the <code>-wad</code> option sets the map's <code>wad</code> property.</p>
<h3 id="exporting-and-cleaning-a-trenchbroom-map-file">Exporting and cleaning a TrenchBroom map file</h3>
<p>
TrenchBroom <code>.map</code> files store layer and (linked) group information in <code>func_group</code> entities and <code>_tb</code>-prefixed properties. When exporting a map from TrenchBroom, any layers that are marked as 'omit from export' are excluded, but the <code>func_group</code> entities and <code>_tb</code> properties are still present, which may cause in-game warnings. To remove this TrenchBroom-specific information from a map file, call MESS as following:</p>
<p>
<code>MESS.exe -convert -noomittedlayers input_file.map output_file.map</code></p>
<p>
The <code>-noomittedlayers</code> option will remove all layers that are marked as 'omit from export'. Because the default map output format is <code>valve220</code>, which does not support group and layer information, the output map won't contain any TrenchBroom-specific data.</p>

          </article>
        </main>

        <footer>
          Â© copyright 2024, Pieter Witvoet
        </footer>
      </div>
    </div>
  </body>
</html>